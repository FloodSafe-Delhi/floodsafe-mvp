# FloodSafe Backend Environment Variables
# Copy this file to .env and fill in your values

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/floodsafe

# JWT Authentication
# IMPORTANT: Change this to a secure random string in production (min 32 characters)
JWT_SECRET_KEY=floodsafe-jwt-secret-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# Google OAuth 2.0 (https://console.cloud.google.com)
# Leave empty to disable Google auth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Firebase (https://console.firebase.google.com)
# Required for phone authentication
# Leave empty to disable phone auth
FIREBASE_PROJECT_ID=

# Mapbox (https://www.mapbox.com)
# Required for safe route navigation
# Get your token at: https://account.mapbox.com/access-tokens/
# Free tier: 100,000 requests/month
MAPBOX_ACCESS_TOKEN=

# =============================================================================
# EXTERNAL ALERTS CONFIGURATION
# =============================================================================

# RSS News Feeds (FREE - No API key required)
# Set to false to disable news feed fetching
RSS_FEEDS_ENABLED=true

# IMD Weather Warnings (FREE - May require IP whitelist)
# India Meteorological Department flood/weather warnings
# Contact: https://mausam.imd.gov.in/
IMD_API_ENABLED=true

# CWC Flood Forecasts (FREE - Web scraping)
# Central Water Commission flood forecasts
# Source: https://ffs.india-water.gov.in/
CWC_SCRAPER_ENABLED=true

# Twitter/X (OPTIONAL - Requires API v2 Bearer Token)
# Get token at: https://developer.twitter.com/en/portal/dashboard
# Free tier: 1,500 tweets/month
# Monitors: @IMDDelhi, @DelhiTraffic, @ndmaindia + flood keywords
TWITTER_BEARER_TOKEN=

# Telegram (OPTIONAL - Future implementation)
# Bot API token for monitoring public flood alert channels
TELEGRAM_BOT_TOKEN=

# Scheduler Intervals (in minutes)
# How often each source is refreshed
ALERT_REFRESH_RSS_MINUTES=15
ALERT_REFRESH_IMD_MINUTES=60
ALERT_REFRESH_TWITTER_MINUTES=30
ALERT_REFRESH_CWC_MINUTES=120

# =============================================================================
# RAINFALL FORECAST CONFIGURATION
# =============================================================================

# Open-Meteo Weather API (FREE - No API key required)
# Provides rainfall forecasts with 3-day horizon
# Source: https://open-meteo.com/
# Rate limit: No strict limit, but please be respectful
# Cache TTL: 1 hour (forecasts cached to reduce API calls)

# =============================================================================
# TWILIO WHATSAPP/SMS INTEGRATION
# =============================================================================

# Twilio Account (https://www.twilio.com/try-twilio)
# Required for WhatsApp SOS alerts and outbound notifications
#
# Setup Steps:
# 1. Create free Twilio account at https://www.twilio.com/try-twilio
# 2. Get Account SID and Auth Token from Console Dashboard
# 3. For WhatsApp: Go to Messaging → Try it out → Send a WhatsApp message
# 4. Configure sandbox webhook URL to your ngrok/production URL

# Account SID (starts with "AC")
TWILIO_ACCOUNT_SID=

# Auth Token (click to reveal in Console)
TWILIO_AUTH_TOKEN=

# WhatsApp sender number (sandbox: whatsapp:+14155238886)
# Production: Your approved WhatsApp Business number
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# SMS sender number (optional, for SMS fallback)
TWILIO_SMS_NUMBER=

# Your public webhook URL for signature validation
# Development: Use ngrok (e.g., https://abc123.ngrok.io/api/webhooks/whatsapp)
# Production: Your domain (e.g., https://api.floodsafe.app/api/webhooks/whatsapp)
TWILIO_WEBHOOK_URL=
